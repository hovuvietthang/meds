<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MEDS ‚Ä¢ Th√™m b·ªánh nh√¢n m·ªõi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --meds-primary:#2563eb; /* indigo-600 */
      --meds-accent:#06b6d4;  /* cyan-500   */
      --meds-ink:#0f172a;     /* slate-900  */
    }
    /* ===== Guide Dock (M·ª•c l·ª•c h∆∞·ªõng d·∫´n) ===== */
.guide-dock {
  position: fixed; right: 16px; top: 50%; transform: translateY(-50%);
  z-index: 40;
}
@media (max-width: 640px){
  /* Tr√°nh ƒë√® n√∫t Zalo: ƒë∆∞a l√™n tr√™n n√∫t Zalo ~86px */
  .guide-dock{ top: auto; bottom: 86px; transform: none; right: 12px; }
}

/* Nh·ªè nh·∫Øn, ƒë·ªìng b·ªô theme */
.guide-btn {
  width: 44px; height: 44px;
  border-radius: 9999px; display: inline-flex; align-items: center; justify-content: center;
  background: var(--surface); color: #e5e7eb;
  border: 1px solid var(--meds-border);
  box-shadow: 0 10px 25px rgba(2,6,23,.35);
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.guide-btn:hover { transform: translateY(-2px); box-shadow: 0 14px 32px rgba(2,6,23,.5); background: rgba(255,255,255,.06); }
.guide-btn:focus-visible { outline: none; box-shadow: 0 0 0 4px rgba(37,99,235,.25); }

/* Modal animation (nh·∫π) */
.guide-fade { animation: guideFade .18s ease-out; }
@keyframes guideFade { from { opacity: 0; transform: scale(.98) translateY(6px); } to { opacity: 1; transform: scale(1) translateY(0); } }
/* Kh√≥a cu·ªôn n·ªÅn khi m·ªü modal */
body.modal-open { overflow: hidden; }

/* Panel modal: gi·ªõi h·∫°n chi·ªÅu cao theo viewport, cho layout c·ªôt */
.guide-sheet{
  max-height: calc(100vh - 4rem);
  display: flex;            /* header + list (flex-col) */
  flex-direction: column;
  overflow: hidden;         /* ph·∫ßn list s·∫Ω cu·ªôn, panel kh√¥ng tr√†n */
}
@media (max-width: 640px){
  .guide-sheet{ max-height: calc(100vh - 2rem); }
}

/* V√πng danh s√°ch: cu·ªôn d·ªçc, m∆∞·ª£t mobile */
.guide-list{
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain; /* ch·∫°m ƒë√°y kh√¥ng ‚Äúb·∫≠t‚Äù n·ªÅn */
}

/* Ch·ªëng tr√†n ngang b·ªüi link d√†i */
.guide-list a{ overflow-wrap: anywhere; }

/* (Tu·ª≥ ch·ªçn) L√†m scrollbar g·ªçn g√†ng */
.guide-list::-webkit-scrollbar{ width: 10px; }
.guide-list::-webkit-scrollbar-thumb{ background: rgba(148,163,184,.35); border-radius: 8px; }
.guide-list::-webkit-scrollbar-track{ background: transparent; }
/* Kh√≥a cu·ªôn n·ªÅn khi m·ªü modal */
body.modal-open { overflow: hidden; }

/* Panel modal: gi·ªõi h·∫°n chi·ªÅu cao theo viewport, cho layout c·ªôt */
.guide-sheet{
  max-height: calc(100vh - 4rem);
  display: flex;            /* header + list (flex-col) */
  flex-direction: column;
  overflow: hidden;         /* ph·∫ßn list s·∫Ω cu·ªôn, panel kh√¥ng tr√†n */
}
@media (max-width: 640px){
  .guide-sheet{ max-height: calc(100vh - 2rem); }
}

/* V√πng danh s√°ch: cu·ªôn d·ªçc, m∆∞·ª£t mobile */
.guide-list{
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain; /* ch·∫°m ƒë√°y kh√¥ng ‚Äúb·∫≠t‚Äù n·ªÅn */
}

/* Ch·ªëng tr√†n ngang b·ªüi link d√†i */
.guide-list a{ overflow-wrap: anywhere; }

/* (Tu·ª≥ ch·ªçn) L√†m scrollbar g·ªçn g√†ng */
.guide-list::-webkit-scrollbar{ width: 10px; }
.guide-list::-webkit-scrollbar-thumb{ background: rgba(148,163,184,.35); border-radius: 8px; }
.guide-list::-webkit-scrollbar-track{ background: transparent; }

  </style>
</head>
<body class="bg-gradient-to-b from-slate-50 via-white to-slate-50 text-slate-800">
  <article class="mx-auto max-w-5xl px-4 py-10 sm:px-6 lg:px-8">
    <!-- Hero / Title -->
    <header class="relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm">
      <div class="absolute -top-10 -right-10 h-40 w-40 rounded-full bg-indigo-100 blur-2xl"></div>
      <div class="absolute -bottom-10 -left-10 h-40 w-40 rounded-full bg-cyan-100 blur-2xl"></div>
      <div class="relative p-8 sm:p-10">
        <div class="mb-4 inline-flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-3 py-1 text-[13px] font-medium text-indigo-700">
          <span>üßæ</span>
          <span>MEDS ¬∑ Nh·∫≠p danh s√°ch b·ªánh nh√¢n</span>
        </div>
        <h1 class="text-3xl font-extrabold tracking-tight text-slate-900 sm:text-4xl">
          Th√™m <span class="bg-gradient-to-r from-indigo-600 to-cyan-500 bg-clip-text text-transparent">b·ªánh nh√¢n m·ªõi</span>
        </h1>
        <p class="mt-3 max-w-3xl text-slate-600">
          <strong>M·ª•c ti√™u:</strong> "Ti·∫øp theo, m√¨nh s·∫Ω h∆∞·ªõng d·∫´n ph·∫ßn <b>th√™m b·ªánh nh√¢n m·ªõi</b>. ƒê√¢y l√† b·∫£ng nh·∫≠p danh s√°ch b·ªánh nh√¢n ƒë·ªÉ c√¥ng c·ª• <b>chia gi·ªù t·ª± ƒë·ªông</b>."
        </p>
      </div>
    </header>

    <!-- Structure -->
    <section class="mt-10 grid gap-6 lg:grid-cols-3">
      <div class="lg:col-span-2 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h2 class="mb-3 text-xl font-bold text-slate-900">C·∫•u tr√∫c b·∫£ng</h2>
        <p class="mb-4 text-slate-600">B·∫£ng n√†y c√≥ c√°c c·ªôt:</p>
        <ul class="grid grid-cols-1 gap-2 sm:grid-cols-2">
          <li class="flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm"><span>üìÖ</span>Ng√†y (<b>NGAY</b>)</li>
          <li class="flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm"><span>üë§</span>H·ªç t√™n (<b>HOTEN</b>)</li>
          <li class="flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm"><span>üÜî</span>HSBA (<b>HSBA</b>)</li>
          <li class="flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm"><span>üß©</span>D·ªãch v·ª• (<b>DICHVU</b>)</li>
          <li class="flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm"><span>üïí</span>Bu·ªïi (<b>BUOI</b>)</li>
          <li class="flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm"><span>üè•</span>Khoa ph√≤ng (<b>KHOAPHONG</b>)</li>
          <li class="flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm sm:col-span-2"><span>‚è±Ô∏è</span>Gi·ªù v√†o (<b>GIOVAO</b>)</li>
        </ul>
        <div class="mt-4 flex flex-wrap gap-3">
          <button class="rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50">+ Th√™m d√≤ng</button>
          <button class="rounded-xl bg-gradient-to-r from-indigo-600 to-cyan-500 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-95">üì• TH√äM C√ÅC B·ªÜNH NH√ÇN</button>
        </div>
      </div>

      <aside class="rounded-2xl border border-indigo-200 bg-indigo-50 p-6 text-indigo-900">
        <h3 class="mb-2 text-base font-semibold">üéØ Tip nhanh</h3>
        <ul class="list-disc pl-5 text-sm leading-6">
          <li>ƒê·ªãnh d·∫°ng <b>Ng√†y</b>: n√™n d√πng <b>dd/mm/yyyy</b> ƒë·ªÉ th·ªëng nh·∫•t.</li>
          <li><b>D·ªãch v·ª•</b> vi·∫øt t·∫Øt ph·∫£i kh·ªõp v·ªõi b·∫£ng <b>THOIGIAN</b>.</li>
          <li><b>HSBA</b> l√† <b>duy nh·∫•t</b> cho m·ªói b·ªánh nh√¢n.</li>
        </ul>
      </aside>
    </section>

    <!-- Field Guides -->
    <section class="mt-8 grid gap-6 md:grid-cols-2">
      <!-- Ng√†y -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h3 class="mb-2 text-lg font-bold">C·ªôt Ng√†y (NGAY) ‚Äì th·ªëng nh·∫•t 1 ng√†y chung</h3>
        <p class="text-slate-600">ƒê√¢y <b>kh√¥ng ph·∫£i</b> ng√†y v√†o vi·ªán. Anh/ch·ªã n√™n th·ªëng nh·∫•t <b>m·ªôt ng√†y chung</b> cho to√†n b·ªô b·ªánh nh√¢n. V√≠ d·ª•: ch·ªçn <b>02/09/2025</b>, th√¨ t·∫•t c·∫£ b·ªánh nh√¢n v·ªÅ sau c≈©ng nh·∫≠p ng√†y <b>02/09/2025</b>.</p>
      </div>

      <!-- H·ªç t√™n -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h3 class="mb-2 text-lg font-bold">C·ªôt H·ªç t√™n (HOTEN) ‚Äì nh·∫≠p ƒë·∫ßy ƒë·ªß</h3>
        <p class="text-slate-600">Nh·∫≠p <b>ƒë·ªß h·ªç v√† t√™n</b> c·ªßa b·ªánh nh√¢n, <b>kh√¥ng vi·∫øt t·∫Øt</b>.</p>
      </div>

      <!-- HSBA -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h3 class="mb-2 text-lg font-bold">C·ªôt HSBA ‚Äì duy nh·∫•t, b·∫Øt bu·ªôc</h3>
        <p class="text-slate-600">M·ªói b·ªánh nh√¢n ch·ªâ c√≥ <b>m·ªôt</b> s·ªë HSBA duy nh·∫•t. C√¥ng c·ª• d·ª±a v√†o m√£ h·ªì s∆° b·ªánh √°n ƒë·ªÉ chia gi·ªù n√™n <b>b·∫Øt bu·ªôc</b> ph·∫£i nh·∫≠p <b>ch√≠nh x√°c</b> v√† <b>kh√¥ng tr√πng l·∫∑p</b>.</p>
      </div>

      <!-- D·ªãch v·ª• -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h3 class="mb-2 text-lg font-bold">C·ªôt D·ªãch v·ª• (DICHVU) ‚Äì vi·∫øt t·∫Øt, ngƒÉn c√°ch b·∫±ng d·∫•u ph·∫©y</h3>
        <p class="text-slate-600">Nh·∫≠p c√°c <b>vi·∫øt t·∫Øt</b> d·ªãch v·ª•, ngƒÉn c√°ch nhau b·∫±ng <b>d·∫•u ph·∫©y</b>.</p>
        <div class="mt-3 rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm">
          <p class="mb-2">V√≠ d·ª•:</p>
          <code class="block whitespace-pre-wrap leading-6">DX, SA, VD</code>
          <p class="mt-2 text-slate-600">L∆∞u √Ω: c√°c vi·∫øt t·∫Øt ph·∫£i <b>th·ªëng nh·∫•t</b> v·ªõi <b>THOIGIAN</b>/<b>CAUHINH</b>.</p>
        </div>
      </div>

      <!-- Bu·ªïi -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h3 class="mb-2 text-lg font-bold">C·ªôt Bu·ªïi (BUOI) ‚Äì ch·ªçn th·ªùi gian trong ng√†y</h3>
        <ul class="list-disc pl-5 text-slate-600">
          <li><b>ƒê·ªÉ tr·ªëng</b> = c·∫£ ng√†y</li>
          <li><b>G√µ "S√°ng"</b> = chia v√†o bu·ªïi s√°ng</li>
          <li><b>G√µ "Chi·ªÅu"</b> = chia v√†o bu·ªïi chi·ªÅu</li>
        </ul>
        <p class="mt-2 text-slate-600">Vi·ªác ch·ªçn bu·ªïi s·∫Ω gi√∫p c√¥ng c·ª• x·∫øp <b>ƒë√∫ng khung gi·ªù</b>.</p>
      </div>

      <!-- Khoa ph√≤ng -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h3 class="mb-2 text-lg font-bold">C·ªôt Khoa ph√≤ng (KHOAPHONG) ‚Äì khi d√πng nhi·ªÅu khoa</h3>
        <ul class="list-disc pl-5 text-slate-600">
          <li>N·∫øu ch·ªâ d√πng <b>m·ªôt khoa</b>, c√≥ th·ªÉ <b>ƒë·ªÉ tr·ªëng</b>.</li>
          <li>N·∫øu c√≥ <b>nhi·ªÅu khoa</b>, nh·∫≠p <b>ch√≠nh x√°c</b> v√† <b>ƒë·ªìng b·ªô</b> v·ªõi c√°c sheet trong <b>C·∫§U H√åNH</b>.</li>
        </ul>
      </div>

      <!-- Gi·ªù v√†o -->
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm md:col-span-2">
        <h3 class="mb-2 text-lg font-bold">C·ªôt Gi·ªù v√†o (GIOVAO) ‚Äì ƒë·ªÉ t√≠nh gi·ªù x·∫øp d·ªãch v·ª•</h3>
        <p class="text-slate-600">Nh·∫≠p <b>gi·ªù b·ªánh nh√¢n nh·∫≠p vi·ªán</b>. C√°c gi·ªù y l·ªánh v√† gi·ªù th·ª±c hi·ªán d·ªãch v·ª• s·∫Ω ƒë∆∞·ª£c <b>x·∫øp sau</b> m·ªëc n√†y. ƒê·ªãnh d·∫°ng ƒë·ªÅ xu·∫•t: <b>HH:MM</b> (v√≠ d·ª• 06:30, 08:10).</p>
      </div>
    </section>

    <!-- Bulk Add -->
    <section class="mt-8 grid gap-6 lg:grid-cols-3">
      <div class="lg:col-span-2 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h2 class="mb-3 text-xl font-bold text-slate-900">Th√™m nhi·ªÅu b·ªánh nh√¢n c√πng l√∫c</h2>
        <ol class="list-decimal pl-5 text-slate-600">
          <li>Nh·∫•n <b>‚ÄúTh√™m d√≤ng‚Äù</b> ƒë·ªÉ nh·∫≠p nhi·ªÅu b·ªánh nh√¢n.</li>
          <li>ƒêi·ªÅn ƒë·ªß c√°c c·ªôt theo c·∫•u tr√∫c tr√™n.</li>
          <li>B·∫•m n√∫t <b>‚ÄúTH√äM C√ÅC B·ªÜNH NH√ÇN‚Äù</b> ƒë·ªÉ <b>l∆∞u danh s√°ch</b>.</li>
        </ol>
        <div class="mt-4 flex flex-wrap gap-3">
          <button class="rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50">+ Th√™m d√≤ng</button>
          <button class="rounded-xl bg-gradient-to-r from-indigo-600 to-cyan-500 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:opacity-95">üì• TH√äM C√ÅC B·ªÜNH NH√ÇN</button>
        </div>
      </div>

      <aside class="rounded-2xl border border-emerald-200 bg-emerald-50 p-6 text-emerald-900">
        <h3 class="mb-2 text-base font-semibold">‚úÖ Checklist tr∆∞·ªõc khi l∆∞u</h3>
        <ul class="list-disc pl-5 text-sm leading-6">
          <li><b>HSBA</b> kh√¥ng tr√πng l·∫∑p.</li>
          <li><b>D·ªãch v·ª•</b> vi·∫øt t·∫Øt ƒë√∫ng & ƒë·ªìng b·ªô.</li>
          <li><b>GIOVAO</b> ƒë√∫ng ƒë·ªãnh d·∫°ng <b>HH:MM</b>.</li>
        </ul>
      </aside>
    </section>

    <!-- Example Table -->
    <section class="mt-10">
      <h2 class="mb-3 text-xl font-bold text-slate-900">V√≠ d·ª• minh ho·∫° (3 d√≤ng)</h2>
      <div class="overflow-x-auto rounded-2xl border border-slate-200 bg-white shadow-sm">
        <table class="min-w-full text-left text-sm">
          <thead class="bg-slate-50 text-slate-600">
            <tr>
              <th class="px-4 py-3 font-semibold">Ng√†y</th>
              <th class="px-4 py-3 font-semibold">H·ªç t√™n</th>
              <th class="px-4 py-3 font-semibold">HSBA</th>
              <th class="px-4 py-3 font-semibold">D·ªãch v·ª•</th>
              <th class="px-4 py-3 font-semibold">Bu·ªïi</th>
              <th class="px-4 py-3 font-semibold">Khoa ph√≤ng</th>
              <th class="px-4 py-3 font-semibold">Gi·ªù v√†o</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-slate-200">
            <tr class="hover:bg-slate-50">
              <td class="px-4 py-3">02/09/2025</td>
              <td class="px-4 py-3 font-medium text-slate-900">Nguy·ªÖn VƒÉn A</td>
              <td class="px-4 py-3">20004214</td>
              <td class="px-4 py-3">DX, SA, VD</td>
              <td class="px-4 py-3 italic text-slate-400">(tr·ªëng)</td>
              <td class="px-4 py-3 italic text-slate-400">(tr·ªëng)</td>
              <td class="px-4 py-3">06:30</td>
            </tr>
            <tr class="hover:bg-slate-50">
              <td class="px-4 py-3">02/09/2025</td>
              <td class="px-4 py-3 font-medium text-slate-900">ƒê√†o Th·ªã B</td>
              <td class="px-4 py-3">20004455</td>
              <td class="px-4 py-3">DX, SA</td>
              <td class="px-4 py-3">S√°ng</td>
              <td class="px-4 py-3">PHCN</td>
              <td class="px-4 py-3">08:10</td>
            </tr>
            <tr class="hover:bg-slate-50">
              <td class="px-4 py-3">02/09/2025</td>
              <td class="px-4 py-3 font-medium text-slate-900">L√™ Minh C</td>
              <td class="px-4 py-3">20004677</td>
              <td class="px-4 py-3">DC</td>
              <td class="px-4 py-3">Chi·ªÅu</td>
              <td class="px-4 py-3">YHCT</td>
              <td class="px-4 py-3">13:45</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Footer note -->
    <footer class="mt-10 rounded-2xl border border-slate-200 bg-white p-6 text-sm text-slate-600">
      <p><span class="font-semibold text-slate-900">K·∫øt ‚Äì 3 nguy√™n t·∫Øc:</span> (1) <b>HSBA</b> duy nh·∫•t cho m·ªói b·ªánh nh√¢n. (2) <b>D·ªãch v·ª•</b> vi·∫øt t·∫Øt ƒë·ªìng b·ªô v·ªõi c·∫•u h√¨nh. (3) Nh·ªõ nh·∫•n <b>‚ÄúTH√äM C√ÅC B·ªÜNH NH√ÇN‚Äù</b> ƒë·ªÉ d·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u.</p>
    </footer>
  </article>
 <!-- ===== MODAL M·ª§C L·ª§C ===== -->
<div id="guideModal" class="hidden fixed inset-0 z-50">
  <!-- overlay -->
  <div id="guideOverlay" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
  <!-- sheet -->
  <div class="absolute inset-x-0 top-10 mx-auto w-full max-w-2xl px-4">
    <div class="glass guide-fade guide-sheet p-5 md:p-6">
      <div class="mb-4 flex items-center justify-between gap-3">
        <h2 class="text-lg font-bold text-slate-100">M·ª•c l·ª•c h∆∞·ªõng d·∫´n</h2>
        <button id="closeGuideBtn" class="rounded-xl border border-[var(--meds-border)] bg-white/5 px-3 py-1.5 text-sm text-slate-200 hover:bg-white/10">
          ƒê√≥ng
        </button>
      </div>

      <!-- danh s√°ch -->
      <div class="space-y-3 guide-list" id="guideList" role="list"></div>

      <div class="mt-4 text-xs text-slate-400">
        * N√∫t <span class="font-semibold">Video</span> ch·ªâ hi·ªán khi c√≥ li√™n k·∫øt video t∆∞∆°ng ·ª©ng.
      </div>
    </div>
  </div>
</div>
<script>
  // ===== D·ªÆ LI·ªÜU H∆Ø·ªöNG D·∫™N (GI·ªÆ ƒê√öNG TH·ª® T·ª∞ B·∫†N ƒê∆ØA) =====
  // M·∫πo: n·∫øu url KH√îNG b·∫Øt ƒë·∫ßu b·∫±ng http, m√¨nh t·ª± ƒë·ªông th√™m domain /post/
  const GUIDE_BASE = 'https://medstrial.toihocy.com/post/';
  const guides = [
    { title: 'H∆∞·ªõng d·∫´n c·∫•u h√¨nh chung',            url: 'https://medstrial.toihocy.com/post/huong-dan-cau-hinh-chung.html', video: null },
    { title: 'H∆∞·ªõng d·∫´n c·∫•u th·ªùi gian',              url: 'huong-dan-cau-thoi-gian.html',            video: null },
    { title: 'H∆∞·ªõng d·∫´n c·∫•u h√¨nh nh√¢n vi√™n',        url: 'huong-dan-cau-hinh-nhan-vien.html',       video: null },
    { title: 'H∆∞·ªõng d·∫´n c·∫•u h√¨nh m√°y m√≥c',          url: 'huong-dan-cau-hinh-may-moc.html',         video: null },
    { title: 'H∆∞·ªõng d·∫´n c·∫•u h√¨nh email',            url: 'huong-dan-cau-hinh-email.html',           video: null },
    { title: 'H∆∞·ªõng d·∫´n c·∫•u h√¨nh t√†i kho·∫£n',        url: 'huong-dan-cau-hinh-tai-khoan.html',       video: null },
    { title: 'H∆∞·ªõng d·∫´n th√™m b·ªánh nh√¢n',            url: 'huong-dan-them-benh-nhan.html',           video: null },
    { title: 'H∆∞·ªõng d·∫´n chia gi·ªù h·∫±ng ng√†y',        url: 'huong-dan-chia-gio-hang-ngay.html',       video: null },
    { title: 'H∆∞·ªõng d·∫´n x√≥a b·ªánh nh√¢n',             url: 'huong-dan-xoa-benh-nhan.html',            video: null },
    { title: 'H∆∞·ªõng d·∫´n s·ª≠a b·ªánh nh√¢n',             url: 'huong-dan-sua-benh-nhan.html',            video: null }
  ];

  const absUrl = u => /^https?:\/\//i.test(u) ? u : (GUIDE_BASE + u.replace(/^\/+/, ''));

  // ===== RENDER LIST =====
  function renderGuideList() {
    const wrap = document.getElementById('guideList');
    wrap.innerHTML = '';
    guides.forEach((g, idx) => {
      const readHref = absUrl(g.url);
      const hasVideo = !!g.video;
      const videoHref = hasVideo ? g.video : '#';

      const item = document.createElement('div');
      item.setAttribute('role', 'listitem');
      item.className = 'rounded-xl border border-[var(--meds-border)] bg-white/5 p-3 md:p-4';

      item.innerHTML = `
        <div class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
          <div class="min-w-0">
            <div class="text-sm text-slate-300"><span class="mr-2 inline-flex h-5 w-5 items-center justify-center rounded-lg border border-[var(--meds-border)] bg-white/5 text-[11px] font-semibold">#${String(idx+1).padStart(2,'0')}</span>${g.title}</div>
            <a href="${readHref}" target="_blank" rel="noopener" class="block truncate text-xs text-blue-300 underline">${readHref}</a>
          </div>
          <div class="flex shrink-0 gap-2">
            <a href="${readHref}" target="_blank" rel="noopener"
               class="rounded-xl bg-[var(--meds-primary)] px-3 py-2 text-xs font-semibold text-white hover:bg-[var(--meds-dark)]">
              ƒê·ªçc b√†i
            </a>
            <a ${hasVideo ? `href="${videoHref}" target="_blank" rel="noopener"` : ''}
               class="rounded-xl border border-[var(--meds-border)] bg-white/5 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-white/10 ${hasVideo ? '' : 'pointer-events-none opacity-50'}">
              Video
            </a>
          </div>
        </div>
      `;
      wrap.appendChild(item);
    });
  }

  // ===== OPEN/CLOSE MODAL =====
  const guideModal   = document.getElementById('guideModal');
  const openGuideBtn = document.getElementById('openGuideBtn');
  const closeGuideBtn= document.getElementById('closeGuideBtn');
  const guideOverlay = document.getElementById('guideOverlay');
  let lastActive = null;

  function openGuide() {
    lastActive = document.activeElement;
    renderGuideList();
    guideModal.classList.remove('hidden');
    document.body.classList.add('modal-open')
    closeGuideBtn.focus();
  }
  function closeGuide() {
    guideModal.classList.add('hidden');
     document.body.classList.remove('modal-open');
    if (lastActive && typeof lastActive.focus === 'function') lastActive.focus();
  }

  openGuideBtn.addEventListener('click', openGuide);
  closeGuideBtn.addEventListener('click', closeGuide);
  guideOverlay.addEventListener('click', closeGuide);
  document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && !guideModal.classList.contains('hidden')) closeGuide(); });
</script>
</body>
</html>
